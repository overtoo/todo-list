(()=>{var e={798:function(e,t,n){e=n.nmd(e),function(n,o){"use strict";var r={};n.PubSub=r,function(e){var t={},n=-1;function o(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function r(e,t,n){e(t,n)}function c(e,n,c,a){var d,s=t[n],i=a?r:o;if(Object.prototype.hasOwnProperty.call(t,n))for(d in s)Object.prototype.hasOwnProperty.call(s,d)&&i(s[d],e,c)}function a(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[n]))}function d(e,t,n,o){var r=function(e,t,n){return function(){var o=String(e),r=o.lastIndexOf(".");for(c(e,e,t,n);-1!==r;)r=(o=o.substr(0,r)).lastIndexOf("."),c(e,o,t,n);c(e,"*",t,n)}}(e="symbol"==typeof e?e.toString():e,t,o);return!!function(e){for(var t=String(e),n=a(t)||a("*"),o=t.lastIndexOf(".");!n&&-1!==o;)o=(t=t.substr(0,o)).lastIndexOf("."),n=a(t);return n}(e)&&(!0===n?r():setTimeout(r,0),!0)}e.publish=function(t,n){return d(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return d(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,o){if("function"!=typeof o)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var r="uid_"+String(++n);return t[e][r]=o,r},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,n){var o=e.subscribe(t,(function(){e.unsubscribe(o),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,o,r=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(o in t[n])r++;break}return r},e.getSubscriptions=function(e){var n,o=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&o.push(n);return o},e.unsubscribe=function(n){var o,r,c,a="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1}(n)),d=!a&&"string"==typeof n,s="function"==typeof n,i=!1;if(!a){for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(r=t[o],d&&r[n]){delete r[n],i=n;break}if(s)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&r[c]===n&&(delete r[c],i=!0)}return i}e.clearSubscriptions(n)}}(r),void 0!==e&&e.exports&&(t=e.exports=r),t.PubSub=r,e.exports=t=r}("object"==typeof window&&window||this)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var c=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(c.exports,c,c.exports,n),c.loaded=!0,c.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e=(()=>{const t=[{default:[{title:"default task",desc:"get shit done",due:"n/a",priority:2,status:!1}]},{project1:[{title:"default task",desc:"get shit done",due:"n/a",priority:2,status:!1}]}],n=()=>t.map((e=>Object.keys(e)[0])),o=(e,t,n,o="2",r=!1)=>({title:e,desc:t,due:n,priority:o,status:r});return{taskCreator:o,addProject:function(t){let n={};n[t]=[],e.database.push(n)},getProjects:n,database:t,getTasks:e=>{let o=n();return t.map((t=>t[e]))[o.indexOf(e)]},addTask:(e,n,r,c,a)=>{const d=o(n,r,c,a);t.forEach((t=>{if(Object.keys(t)==e){let n=t[e];console.log(d),n.push(d),console.log("New task added to database.")}}))}}})(),t=e;var o=n(798),r=n.n(o);const c=(()=>{let e="default";function n(){o(),d(),c()}function o(){const n=document.querySelector("#sidebar");n.innerHTML="";let o=t.getProjects();for(let e=0;e<o.length;e++){let t=document.createElement("div");t.classList.add("tab"),t.classList.add("project"),t.dataset.project=o[e],t.textContent=o[e],n.appendChild(t)}let c=document.createElement("div");c.classList.add("tab"),c.classList.add("add-project"),c.dataset.project="add",c.textContent="+",n.appendChild(c),n.querySelectorAll(".project").forEach((t=>{t.addEventListener("click",(()=>{e=t.dataset.project,r().publish("PROJECT CLICKED",e+" selected (pubsub)")}))})),n.querySelector(".add-project").addEventListener("click",(()=>{let n=prompt("Add new project");for(;o.includes(n);)n=prompt(n+" already exists bozo. Add new project");for(;!n;)n=prompt(" Add a name bozo");t.addProject(n),e=n,r().publish("NEW PROJECT ADDED",e),console.log("huh")}))}function c(){const e=document.querySelector("#content");e.innerHTML="";const n=document.querySelector(".active").dataset.project;console.log("Tasks rendered. Active project is "+n);let o=function(e){const t=JSON.parse(JSON.stringify(e));0==t.length&&t.push({title:"",desc:"",due:"",priority:"",status:!1});const n=document.createElement("table");n.classList.add("table");const o=document.createElement("tr"),r=Object.keys(t[0]);for(const e of r){const t=document.createElement("th");t.appendChild(document.createTextNode(e)),o.appendChild(t)}n.appendChild(o),t.length;for(const e of t){const t=document.createElement("tr");for(const n of r){const o=document.createElement("td"),r=e[n]||"";o.appendChild(document.createTextNode(r)),t.appendChild(o),delete e[n]}for(const n in e){const c=document.createElement("th");c.appendChild(document.createTextNode(n)),r.push(n),o.appendChild(c);const a=document.createElement("td"),d=e[n]||"";a.appendChild(document.createTextNode(d)),t.appendChild(a)}n.appendChild(t)}return n}(t.getTasks(n));e.appendChild(o);let r=document.createElement("button");r.classList.add("add-task"),r.textContent="+",e.appendChild(r),r.addEventListener("click",(()=>{a()}))}function a(){const n=document.querySelector("#task-form");n.innerHTML="";const o=document.createElement("div");o.textContent="âœ–",o.id="close-tb",n.appendChild(o);const r=document.createElement("form");r.id="myForm";const a=document.createElement("label");a.textContent="Name",r.appendChild(a);const d=document.createElement("input");d.id="task-name",d.type="text",d.placeholder="What do you need to do?",r.appendChild(d);const s=document.createElement("label");s.textContent="Description",r.appendChild(s);const i=document.createElement("input");i.id="task-description",i.type="text",i.placeholder="Description of task..?",r.appendChild(i);const l=document.createElement("label");l.textContent="Priority",r.appendChild(l);const u=document.createElement("select"),p=document.createElement("option");p.value="1",p.textContent="1";const f=document.createElement("option");f.value="2",f.textContent="2";const m=document.createElement("option");m.value="3",m.textContent="3",u.id="priority",u.appendChild(p),u.appendChild(f),u.appendChild(m),r.appendChild(u);const b=document.createElement("label");b.textContent="Due Date",r.appendChild(b);const y=document.createElement("input");y.id="due-date",y.type="text",r.appendChild(y);const h=document.createElement("input");h.type="submit",h.value="Submit",r.appendChild(h),n.appendChild(r);const C=document.querySelector("#task-form");C.style.display="block",document.querySelector("#close-tb").addEventListener("click",(()=>{C.style.display="none"})),document.getElementById("myForm").onsubmit=function(n){n.preventDefault();const o=document.getElementById("task-name").value,r=document.getElementById("task-description").value,a=document.getElementById("task-description").value;t.addTask(e,o,r,a),C.style.display="none",c()}}function d(){document.querySelector(`[data-project=${e}]`).classList.add("active")}return r().subscribe("PROJECT CLICKED",n),r().subscribe("NEW PROJECT ADDED",n),{renderSidebar:o,selectProject:d,unselectProject:function(){document.querySelector("#sidebar").querySelectorAll(".active").forEach((e=>{e.classList.remove("active")}))},renderTasks:c}})();c.renderSidebar(),c.selectProject(),c.renderTasks(),c.renderSidebar(),c.selectProject()})()})();